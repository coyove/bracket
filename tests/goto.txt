local i = 0
print("test goto")

goto a1
:: a2
::
i+=1
goto a3

::a1::
assert(true)
i+=1
goto a2

:: a3::
assert(i == 2)

if false then
::iflabel::
    i = 10
end

if i== 10 then goto iflabel2 end

goto iflabel ::iflabel2::

assert(i == 10)

local function a()
::innerlabel::
assert(false)
end

goto innerlabel -- won't do anything

return "goto"
