a = "hello world"
assert a[6:]  == "world"

m = {}
for i=0,20 { m[i] = i }
m2 = std.genlist(10)
n = len(m[5:len(m2) + 5](m2))
assert n == 10&&m2 == {5,6,7,8,9,10,11,12,13,14}

r = m2[2]
m2[2] = #nil
assert r == 7&&m2 == {5,6,8,9,10,11,12,13,14}

ptr_test = std.eval(`return func ( a) {
    a[] = 10
}`)()

ptr_test(&a)
assert a == 10


func testAssert() {
    assert 0 "hello"
    return "world"
}

std.safe(testAssert)

msg = testAssert()
assert msg == "hello"


tarr = "0123456789"
for i = 0,10  {
    tarr[i] = 0x61 + i
}

assert (tarr) == "abcdefghij"
tarr[5]++
assert (tarr) == "abcdegghij"

a = {
    "a": {"hello": nil, "3": {
        "0": {1,2,3},
    }},
}

j = std.json.stringify(a)
// io.println(std.json.parse(j), a)
assert std.json.parse(j) == a
assert std.json.parse("true") == true
assert std.json.parse("     true") == !false


